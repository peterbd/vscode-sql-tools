{
  "name": "px-sql-tools",
  "displayName": "PX SQL Tools",
  "description": "Developer-centric T-SQL tooling for VS Code using the MSSQL extension.",
  "version": "0.1.0",
  "publisher": "sql-toolbelt",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Programming Languages",
    "Other"
  ],
  "activationEvents": [
    "onLanguage:sql"
  ],
  "main": "./out/extension.js",
  "extensionDependencies": [
    "ms-mssql.mssql"
  ],
  "contributes": {
    "commands": [
      {
        "command": "pxSqlTools.expandWildcard",
        "title": "PX SQL Tools: Expand Wildcard",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.scriptAsAlter",
        "title": "PX SQL Tools: Script Object as ALTER",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.scriptAsCreate",
        "title": "PX SQL Tools: Script Object as CREATE",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.generateInsertStatement",
        "title": "PX SQL Tools: Generate INSERT Statement",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.openHistory",
        "title": "PX SQL Tools: Show SQL History",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.reopenFromHistory",
        "title": "PX SQL Tools: Reopen Query from History",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.toggleFavoriteHistory",
        "title": "PX SQL Tools: Toggle Favorite",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.clearHistory",
        "title": "PX SQL Tools: Clear Query History",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.copyHistory",
        "title": "PX SQL Tools: Copy Query",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.deleteHistory",
        "title": "PX SQL Tools: Delete Query",
        "category": "PX SQL Tools"
      },
      {
        "command": "pxSqlTools.history.search",
        "title": "PX SQL Tools: Search History",
        "category": "PX SQL Tools"
      }
    ],
    "keybindings": [
      {
        "command": "pxSqlTools.expandWildcard",
        "key": "ctrl+alt+w",
        "mac": "cmd+alt+w",
        "when": "editorTextFocus && editorLangId == sql"
      },
      {
        "command": "pxSqlTools.scriptAsAlter",
        "key": "ctrl+alt+a",
        "mac": "cmd+alt+a",
        "when": "editorTextFocus && editorLangId == sql"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "pxSqlTools.expandWildcard",
          "when": "editorLangId == sql",
          "group": "navigation@1"
        },
        {
          "command": "pxSqlTools.scriptAsAlter",
          "when": "editorLangId == sql",
          "group": "navigation@2"
        },
        {
          "command": "pxSqlTools.scriptAsCreate",
          "when": "editorLangId == sql",
          "group": "navigation@3"
        }
      ],
      "view/title": [
        {
          "command": "pxSqlTools.clearHistory",
          "when": "view == pxSqlTools.historyView",
          "group": "navigation@99"
        },
        {
          "command": "pxSqlTools.history.search",
          "when": "view == pxSqlTools.historyView",
          "group": "navigation@1"
        }
      ],
      "view/item/context": [
        {
          "command": "pxSqlTools.reopenFromHistory",
          "when": "viewItem == historyItem"
        },
        {
          "command": "pxSqlTools.reopenFromHistory",
          "when": "viewItem == historyItem.favorite"
        },
        {
          "command": "pxSqlTools.copyHistory",
          "when": "viewItem == historyItem"
        },
        {
          "command": "pxSqlTools.copyHistory",
          "when": "viewItem == historyItem.favorite"
        },
        {
          "command": "pxSqlTools.toggleFavoriteHistory",
          "when": "viewItem == historyItem"
        },
        {
          "command": "pxSqlTools.toggleFavoriteHistory",
          "when": "viewItem == historyItem.favorite"
        },
        {
          "command": "pxSqlTools.deleteHistory",
          "when": "viewItem == historyItem"
        },
        {
          "command": "pxSqlTools.deleteHistory",
          "when": "viewItem == historyItem.favorite"
        }
      ]
    },
    "configuration": {
      "title": "PX SQL Tools",
      "properties": {
        "pxSqlTools.history.maxItems": {
          "type": "number",
          "default": 1000,
          "minimum": 10,
          "description": "Maximum number of SQL history items to retain. Older items are discarded when the limit is reached."
        },
        "pxSqlTools.history.restoreOnStartup": {
          "type": "boolean",
          "default": true,
          "description": "Restore unsaved queries that were active when VS Code was last closed."
        },
        "pxSqlTools.snippets.customFile": {
          "type": "string",
          "default": "",
          "description": "Optional path to a JSON file containing additional SQL snippets to load at startup."
        },
        "pxSqlTools.completion.enableJoinHints": {
          "type": "boolean",
          "default": false,
          "description": "Suggest JOIN clauses based on foreign key relationships when typing JOIN statements."
        },
        "pxSqlTools.completion.autoScriptOnAccept": {
          "type": "boolean",
          "default": false,
          "description": "Automatically generate the ALTER script after accepting a routine completion inside an ALTER statement."
        },
        "pxSqlTools.expandWildcard.quickPick": {
          "type": "boolean",
          "default": false,
          "description": "Prompt with a Quick Pick before inserting expanded wildcard columns."
        }
      }
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "pxSqlTools",
          "title": "PX SQL Tools",
          "icon": "media/database-icon.svg"
        }
      ]
    },
    "views": {
      "pxSqlTools": [
        {
          "id": "pxSqlTools.historyView",
          "name": "SQL History",
          "icon": "media/history-view.svg"
        }
      ]
    },
    "snippets": [
      {
        "language": "sql",
        "path": "./snippets/sql.json"
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -w -p ./",
    "lint": "eslint \"src/**/*.ts\""
  },
  "devDependencies": {
    "@types/node": "^20.8.10",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.9.0",
    "@typescript-eslint/parser": "^6.9.0",
    "globals": "^13.24.0",
    "eslint": "^8.52.0",
    "typescript": "~5.3.3"
  }
}
